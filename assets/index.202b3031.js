var o=Object.defineProperty;var u=(a,e,r)=>e in a?o(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r;var n=(a,e,r)=>(u(a,typeof e!="symbol"?e+"":e,r),r);import{a as d}from"./vendor.8a0d1596.js";const l=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(t){if(t.ep)return;t.ep=!0;const s=r(t);fetch(t.href,s)}};l();const m=d.create({baseURL:"https://www.githubstatus.com",headers:{accept:"application/json"}});class h{constructor(){n(this,"refreshTime");n(this,"services");n(this,"updateInterval");n(this,"timer");this.refreshTime=document.querySelector("#refresh-time"),this.services=document.querySelector(".services"),this.timer=void 0,this.updateInterval=60}init(){this.createPage(),this.updateStatus()}async getStatus(){return(await m.get("/")).data.components.map(({name:i,status:t})=>({name:i,status:t})).filter(i=>i.name!=="Visit www.githubstatus.com for more information")}clearServiceHTML(){this.services.innerHTML=""}createServiceHTML(e){return this.clearServiceHTML(),e.map(r=>{const i=document.createElement("div"),t=document.createElement("div"),s=document.createElement("div");return t.innerText=r.name,s.innerText=r.status.replace("_",""),t.classList.add("service-name"),s.classList.add("service-status"),i.classList.add("service"),this.setStatusClassName(s),i.appendChild(t),i.appendChild(s),i})}insertServicesHTML(e){for(let r of e)this.services.appendChild(r)}setStatusClassName(e){switch(e.innerText){case"operational":e.classList.add("operational");break;case"degraded_performance":e.classList.add("degraded_performance");break;case"partial_outage":e.classList.add("partial_outage");break;case"major_outage":e.classList.add("major_outage");break;case"under_maintenance":e.classList.add("under_maintenance");break}}insertHTML(e){this.services.innerHTML=e}async createPage(){const e=await this.getStatus(),r=this.createServiceHTML(e);this.insertServicesHTML(r),this.insertHTML(this.services.innerHTML)}insertRefreshTimeValueInToHTML(e){this.refreshTime.innerText=`${e}`}createTimer(e){this.timer=setInterval(()=>e(),1e3)}startTimer(){let e=Number(this.updateInterval);this.createTimer(()=>{e--,this.insertRefreshTimeValueInToHTML(e)})}resetTimer(){clearInterval(this.timer)}updateStatus(){this.startTimer(),setInterval(()=>{this.resetTimer(),this.createPage(),this.startTimer()},this.updateInterval*1e3)}}const p=new h;p.init();
